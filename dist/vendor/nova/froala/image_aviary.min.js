webpackJsonp([1],{45:function(e,t,a){var r,i,n,o;o=function(e){if(e.extend(e.FE.DEFAULTS,{aviaryKey:"542e1ff5d5144b9b81cef846574ba6cf",aviaryScriptURL:"https://dme0ih8comzn4.cloudfront.net/imaging/v3/editor.js",aviaryOptions:{displayImageSize:!0,theme:"minimum"}}),e.FE.PLUGINS.imageAviary=function(t){function a(){t.shared.feather_editor=new Aviary.Feather(e.extend({apiKey:t.opts.aviaryKey,onSave:function(a,r){var i=new Image;i.crossOrigin="Anonymous",i.onload=function(){var a=document.createElement("CANVAS"),r=a.getContext("2d");a.height=this.height,a.width=this.width,r.drawImage(this,0,0);for(var i=a.toDataURL("image/png"),n=atob(i.split(",")[1]),o=[],d=0;d<n.length;d++)o.push(n.charCodeAt(d));var s=new Blob([new Uint8Array(o)],{type:"image/png"});t.shared.feather_editor.instance.image.edit(e(t.shared.feather_editor.current_image)),t.shared.feather_editor.instance.image.upload([s]),t.shared.feather_editor.close()},i.src=r,t.shared.feather_editor.showWaitIndicator()},onError:function(e){throw new Error(e.message)},onClose:function(){t.shared.feather_editor.instance.image.get()||t.shared.feather_editor.instance.image.edit(e(t.shared.feather_editor.current_image))}},t.opts.aviaryOptions))}return{_init:function(){var e,r,i;t.shared.feather_editor||(t.shared.feather_editor=!0,"undefined"==typeof Aviary?(e=t.opts.aviaryScriptURL,r=a,(i=document.createElement("script")).type="text/javascript",i.defer="defer",i.src=e,i.innerText="",i.onload=r,document.getElementsByTagName("head")[0].appendChild(i)):a())},launch:function(e){"object"==typeof e.shared.feather_editor&&(e.shared.feather_editor.current_image=e.image.get()[0],(e.shared.feather_editor.instance=e).shared.feather_editor.launch({image:e.image.get()[0],url:e.image.get()[0].src}))}}},e.FE.DefineIcon("aviary",{NAME:"sliders",FA5NAME:"sliders-h"}),e.FE.RegisterCommand("aviary",{title:"Advanced Edit",undo:!1,focus:!1,callback:function(e,t){this.imageAviary.launch(this)},plugin:"imageAviary"}),!e.FE.PLUGINS.image)throw new Error("Image Aviary plugin requires image plugin.")},i=[a(4)],void 0===(n="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=n)}});